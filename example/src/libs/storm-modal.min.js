module.exports=function(){"use strict";function e(e,s){var n=document.querySelector(e);if(0===!n)throw new Error("Modal cannot be initialised, no augmentable element found");return t(Object.create(l),{openBtn:n,settings:i({},o,s)},require("./storm-focus-manager"),{classlist:require("dom-classlist")}).init()}var t=require("object-assign"),i=require("merge"),o={onClassName:"on--modal",modalSelector:"js-modal",closeSelector:"js-modal-close",mainSelector:"main"},s=["closed","open"],n={open:{opacity:1,visibility:"visible",position:"fixed",top:0,left:0,bottom:0,right:0,zIndex:5,maxHeight:"none"},closed:{opacity:0,visibility:"hidden",position:"absolute",maxHeight:0,overflow:"hidden"}},l={init:function(){this.open=!1,this.node=document.querySelector("."+this.settings.modalSelector),this.openBtn.addEventListener("click",this.toggle.bind(this),!1),document.querySelector("."+this.settings.closeSelector).addEventListener("click",this.toggle.bind(this),!1),this.focusableChildren=this.getFocusableChildren(),this.setStyles(),this.node.setAttribute("aria-hidden",!0)},setStyles:function(){for(var e in n[s[Number(this.open)]])this.node.style[e]=n[s[Number(this.open)]][e]},toggle:function(){this.open=!this.open,this.classlist(document.documentElement).toggle(this.settings.onClassName),this.setStyles(),this.node.setAttribute("aria-hidden",!this.open),document.querySelector("main").setAttribute("aria-hidden",this.open)}};return{init:e}}();